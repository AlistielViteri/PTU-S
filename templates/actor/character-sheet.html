<form
  class="{{cssClass}} container-fluid"
  autocomplete="off"
  style="padding-left: unset;"
>
  <div class="row justify-content-between" style="height: 96%;">
    <div class="col-sm-12 col-md-8" style="padding-left: unset;">
      <div class="panel character h-100">
        <div class="sheet-body no-hd h-100 pr-2">
          <div class="tab details stats h-100" data-group="primary" data-tab="stats">
            <div class="d-flex align-items-end flex-column h-100">
              <div class="w-100 stats stat-block mb-2">
                  <div class="row no-gutters header">
                    <div class="col-sm-2 pt-2 pb-2 key stat-header">Stats</div>
                    <div class="col-sm-2 mt-2 mb-2">Base</div>
                    <div class="col-sm-2 mt-2 mb-2">Feats</div>
                    <div class="col-sm-3 mt-2 mb-2">Level-Up</div>
                    <div class="col-sm-3 mt-2 mb-2">Total</div>
                  </div>
                  {{#each data.stats as |stat key|}}
                    <div class="row no-gutters {{key}}">
                      <div class="stats {{key}} col-sm-2 key">
                        <label for="data.stats.{{key}}.value" class="resource-label"
                          >{{key}}</label
                        >
                      </div>
                      <div class="stats {{key}} base col-sm-2">
                        <input
                          type="text"
                          name="data.stats.{{key}}.value"
                          value="{{stat.value}}"
                          data-dtype="Number"
                        />
                      </div>
                      <div class="stats {{key}} mod col-sm-2">
                        <input
                          type="text"
                          name="data.stats.{{key}}.mod"
                          value="{{stat.mod}}"
                          data-dtype="Number"
                        />
                      </div>
                      <div class="stats {{key}} levelUp col-sm-3">
                        <input
                          type="text"
                          name="data.stats.{{key}}.levelUp"
                          value="{{stat.levelUp}}"
                          data-dtype="Number"
                        />
                      </div>
                      <div class="stats {{key}} total col-sm-3">
                        <input
                          type="text"
                          name="data.stats.{{key}}.total"
                          value="{{stat.total}}"
                          data-dtype="Number"
                          disabled
                        />
                      </div>
                    </div>
                    {{/each}}
                    {{#if data.levelUpPoints}}
                    <div class="row no-gutters levelUpPoints">
                      <div class="col-sm-8">
                        <label for="data.levelUpPoints" class="resource-label">Remaining Level-Up Points:</label
                        >
                      </div>
                      <div class="col">
                        <input
                          type="text"
                          name="data.levelUpPoints"
                          value="{{data.levelUpPoints}}"
                          data-dtype="Number"
                          disabled
                        />
                      </div>
                    </div>
                    {{/if}}
              </div>
              <div class="hgss-box mt-auto w-100 mb-2">
                <div class="hgss-header skill skill-block">
                  <div class="row no-gutters header w-100">
                    <div class="col-sm-4 pt-2 pb-2">Skill</div>
                    <div class="col mt-2 mb-2">Mod</div>
                    <div class="col-sm-3 mt-2 mb-2">Rank</div>
                    <div class="col-sm-2 mt-2 mb-2">Value</div>
                    <div class="col mt-2 mb-2">Dice</div>
                  </div>
                </div>
                <div class="hgss-body p-0">
                  <div class="w-100 skills skill-block">
                    {{#each data.skills as |skill key|}}
                      <div class="row no-gutters {{key}} align-items-center">
                        <div class="skill {{key}} col-sm-4 bgcolor key type--{{skill.type}} align-self-center">
                          <label for="data.skills.{{key}}.mod" class="resource-label"
                            >{{skill.label}}</label>
                        </div>
                        <div class="skill {{key}} col pl-1 pr-1 fs-9 center-text">
                            <input
                              type="text"
                              name="data.skills.{{key}}.mod"
                              value="{{skill.mod}}"
                              data-dtype="Number"
                            />
                        </div>
                        <div class="skill {{key}} col-sm-3 align-self-center bgcolor skill--{{skill.rank}} center-text">
                          <label for="data.skills.{{key}}.value" class="resource-label"
                            >{{skill.rank}}</label>
                        </div>
                        <div class="skill {{key}} col pl-1 fs-9 center-text">
                          <input
                              type="text"
                              name="data.skills.{{key}}.value"
                              value="{{skill.value}}"
                              data-dtype="Number"
                            />
                        </div>
                        <div class="skill {{key}} col-sm-2 align-self-center bgcolor fs-9 center-text rollable"
                          data-roll="{{skill.value}}d6{{#if skill.mod}}+{{skill.mod}}{{/if}}"
                            data-label="{{skill.label}}"
                        >
                          <i class="fas fa-dice-d20"></i>
                          <label 
                            for="data.skills.{{key}}.value" 
                            class="resource-label" 
                            >{{skill.value}}d6{{#if skill.mod}}+{{skill.mod}}{{/if}}</label>
                        </div>
                      </div>
                      {{/each}}
                </div>
                </div>
              </div>
            </div>
          </div>
          <div class="tab details inventory h-100" data-group="primary" data-tab="inventory">
            <div class="hgss-box h-100">
              <div class="hgss-header">
                <h3>Inventory</h3>
              </div>
              <div class="hgss-body h-100" style="display:block;">
                <div class="row m-1 w-100 mb-3">
                  <div class="col align-self-center">
                    <label for="data.money" class="mr-1">Money:</label>
                  </div>
                  <div class="col-sm-9">
                    <input type="text" name="data.money" value="{{data.money}}" data-dtype="Number">
                  </div>
                </div>
                <div class="row m-1 w-100 justify-content-center">
                  --items--
                </div>
              </div>
            </div>
          </div>
          <div class="tab details feats" data-group="primary" data-tab="feats">
            <div class="row">
              <div class="col">
                <p>Feats</p>
              </div>
            </div>
            <div class="row">
              <div class="col">
                <p>Edges</p>
              </div>
            </div>
          </div>
          <div class="tab details extra" data-group="primary" data-tab="extra">
            <div class="row">
              <div class="col">
                <p>Extra</p>
              </div>
            </div>
          </div>
          <div class="tab details biography h-100" data-group="primary" data-tab="biography">
            <div class="d-flex align-items-end flex-column h-100">
              <div class="hgss-box h-25 w-100 mb-2 red">
                <div class="hgss-header">
                  <h3>Physical Description</h3>
                </div>
                <div class="hgss-body h-90">
                  {{editor content=data.biography.physicalDescription target="data.biography.physicalDescription" button=true owner=owner editable=editable}}
                </div>
              </div>
              <div class="hgss-box h-35 w-100 mb-2 yellow">
                <div class="hgss-header">
                  <h3>Background Description</h3>
                </div>
                <div class="hgss-body h-90">
                  {{editor content=data.biography.background target="data.biography.background" button=true owner=owner editable=editable}}
                </div>
              </div>
              <div class="hgss-box h-35 w-100 mb-2 purple">
                <div class="hgss-header">
                  <h3>Personality</h3>
                </div>
                <div class="hgss-body h-90">
                  {{editor content=data.biography.personality target="data.biography.personality" button=true owner=owner editable=editable}}
                </div>
              </div>
              <div class="hgss-box h-35 w-100 mb-2 green">
                <div class="hgss-header">
                  <h3>Goals</h3>
                </div>
                <div class="hgss-body h-90">
                  {{editor content=data.biography.goals target="data.biography.goals" button=true owner=owner editable=editable}}
                </div>
              </div>
              <div class="hgss-box h-35 w-100 mb-2 green">
                <div class="hgss-header">
                  <h3>Dreams</h3>
                </div>
                <div class="hgss-body h-90">
                  {{editor content=data.biography.dreams target="data.biography.dreams" button=true owner=owner editable=editable}}
                </div>
              </div>
              <div class="hgss-box h-35 w-100 mb-2 green">
                <div class="hgss-header">
                  <h3>Obsessions</h3>
                </div>
                <div class="hgss-body h-90">
                  {{editor content=data.biography.obsessions target="data.biography.obsessions" button=true owner=owner editable=editable}}
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-sm-12 col-md-4">
      <div class="d-flex align-items-center flex-column h-100 pt-4">
        <div class="hgss-box mb-1">
          <div class="hgss-header" style="align-items: unset;">
            <label for="name" class="name-label"></label>
            <input class="ml-2"
              name="name"
              type="text"
              value="{{actor.name}}"
              placeholder="Name"
            />
          </div>
          <div class="hgss-body row no-gutters">
            <div class="options w-100 d-flex">
              <label for="progressBar" class="hp"></label>
              <div class="d-flex pt-1 pb-1" style="text-align: center;">
                <input class="ml-1 mr-1" type="text" name="data.health.value" value="{{data.health.value}}" data-dtype="Number"/>
                <span style="font-size: 20px;"> / </span>
                <input class="ml-1" type="text" name="data.health.max" value="{{data.health.max}}" data-dtype="Number" disabled/>
              </div>
            </div>
            <div class="options w-100 pb-1 pt-1">
              <div class="progress-bar p{{data.health.percent}}" id="progressBar"></div>
            </div>
          </div>
        </div>
        <div class="avatar mb-1 mt-1">
          <img
            class="profile-img"
            src="{{actor.img}}"
            data-edit="img"
            title="{{actor.name}}"
          />
        </div>
        <div class="hgss-box mt-1 mb-1" style="text-align: center;">
          <div class="hgss-header">
            <h3 class="m-auto">Action Points</h3>
          </div>
          <div class="hgss-body">
            <div class="resource-content flexrow flex-group-right hp-info">
              <input type="text" name="data.ap.value" value="{{data.ap.value}}" data-dtype="Number"/>
              <span> / </span>
              <input type="text" name="data.ap.total" value="{{data.ap.total}}" data-dtype="Number" disabled/>
            </div>
          </div>
        </div>
        <div class="w-100 level-box mt-1 mb-1">
          <div class="hgss-box" style="text-align: center; word-break: keep-all;">
            <div class="hgss-header">
              <div class="d-flex w-100 mt-1 mb-1" style="font-size: 11px;">
                <div class="col-sm-6">
                  <label for="data.level.milestones">Milestones</label>
                  </div>
                <div class="col-sm-6">
                  <label for="data.level.dexexp">Dexexp</label>
                  </div>
              </div>
            </div>
            <div class="hgss-body" >
              <div class="d-flex w-100 mt-1 mb-1">
                <div class="col-sm-6">
                  <input type="text" name="data.level.milestones" value="{{data.level.milestones}}" data-dtype="Number"/>
                </div>
                <div class="col-sm-6">
                  <input type="text" name="data.level.dexexp" value="{{data.level.dexexp}}" data-dtype="Number"/>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="w-100 level-box mt-1">
          <div class="hgss-box" style="text-align: center; word-break: keep-all;">
            <div class="hgss-header">
              <div class="d-flex w-100 mt-1 mb-1">
                <div class="col">
                  <label for="data.level.current">Level:</label>
                  </div>
              </div>
            </div>
            <div class="hgss-body" >
              <div class="d-flex w-100 mt-1 mb-1">
                <div class="col">
                  <input type="text" name="data.level.current" value="{{data.level.current}}" data-dtype="Number" disabled/>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="sheet-footer">
    <div class="tabs">
      <ul class="sheet-tabs tabs buttons" data-group="primary">
        <li><button class="item" data-tab="stats">Stats</button></li>
        <li><button class="item" data-tab="inventory">Inventory</button></li>
        <li><button class="item" data-tab="feats">Feats</button></li>
        <li><button class="item" data-tab="extra">Extra</button></li>
        <li><button class="item" data-tab="biography">Bio</button></li>
        <li><button class="item" data-tab="dex" disabled>Dex</button></li>
      </ul>
    </div>
  </div>
</form>
